<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.sample1.mapper.StayMapper">
	<insert id="insertStay" parameterType="hashmap">
		INSERT INTO T2_STAY_TBL (STAY_NO, U_ID, STAY_NAME, STAY_KIND, S_ADDR, S_DETAIL_ADDR, S_READ, S_INSERT_TIME, S_UPDATE_TIME, S_DELYN)
        SELECT MAX(STAY_NO) + 1, 'host', #{stayName}, #{type}, #{sAddr}, #{sDetailAddr}, 0, NOW(), NOW(), 'N'
        FROM T2_STAY_TBL
	</insert>
	
	<select id="selectStayList" parameterType="hashmap" resultType="com.example.sample1.model.Product">
		SELECT 
			S.STAY_NO,
			S.STAY_NAME,
			S.S_ADDR,
			S.S_DETAIL_ADDR,
			C.C_NAME
		FROM T2_STAY_TBL S
		INNER JOIN T2_CODE_TYPE C
		ON S.STAY_KIND = C.C_KIND
	</select>
	
	<select id="selectStayTypeList" parameterType="hashmap" resultType="com.example.sample1.model.Product">
		SELECT * FROM T2_CODE_TYPE 
		WHERE C_TYPE = 'STAY'
	</select>
</mapper>