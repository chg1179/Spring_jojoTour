<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.sample1.mapper.ReviewMapper">
	<!-- 리뷰리스트 -->
	<select id="selectReviewList" parameterType="hashmap" resultType="com.example.sample1.model.Review">
		SELECT *
		FROM T2_REVIEW_TBL R
		INNER JOIN T2_REVIEW_IMG_TBL I ON R.R_NO = I.R_NO
		WHERE DELYN = 'N'
	</select>
	<!-- 리뷰 상세보기 -->
	<select id="selectReview" parameterType="hashmap" resultType="com.example.sample1.model.Review">
		SELECT *
		FROM T2_REVIEW_TBL R
		INNER JOIN T2_REVIEW_IMG_TBL I ON R.R_NO = I.R_NO
		WHERE DELYN = 'N'
		AND R.R_NO = #{rNo}
	</select>
	<!-- 리뷰 수정하기 -->
	<update id="editReview" parameterType="hashmap">
		UPDATE T2_REVIEW_TBL
		SET
			R_CONTENT = #{rContent},
			R_UPDATE_TIME = NOW()
		WHERE R_NO = #{rNo}
	</update>
</mapper>